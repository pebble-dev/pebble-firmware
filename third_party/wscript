def _recurse(ctx):
    if ctx.env.MICRO_FAMILY.startswith('STM32'):
        ctx.recurse('hal_stm32')

def configure(conf):
    _recurse(conf)

def build(bld):
    _recurse(bld)
